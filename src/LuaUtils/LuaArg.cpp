#include "LuaArg.h"

using namespace LuaArg;

//////////////////////////////////////////////////////////////////////////////////////////////////
void Function::initState(lua_State* luaState) const
{
    lua_getglobal(luaState, _functionName.c_str());
}

//////////////////////////////////////////////////////////////////////////////////////////////////
void Script::initState(lua_State* luaState) const
{
    luaL_loadbuffer(luaState, _script.c_str(), _script.length(), "script");
}

//////////////////////////////////////////////////////////////////////////////////////////////////
void Pointer::initState(lua_State* luaState) const
{
    lua_pushlightuserdata(luaState, const_cast<void*>(_rawPointer));
}

//////////////////////////////////////////////////////////////////////////////////////////////////
void String::initState(lua_State* luaState) const
{
    lua_pushlstring(luaState, _string.c_str(), _string.size());
}

//////////////////////////////////////////////////////////////////////////////////////////////////
void Number::initState(lua_State* luaState) const
{
    lua_pushnumber(luaState, _number);
}